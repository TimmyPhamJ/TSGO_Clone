<script>
	document.title = "Truy vấn thông tin lệnh";
</script>
<script src="/assets/js/bootstrap-select.min.js"></script>
<style></style>
<!-- main screen -->
<div class="row">
	<div class="col-xl-12" style="font-size: 12px">
		<div class="ibox collapsible-box">
			<i class="la la-angle-double-up dock-right"></i>
			<!-- Title name -->
			<div class="ibox-head">
				<div class="ibox-title">TRUY VẤN THÔNG TIN LỆNH</div>
				<div class="button-bar-group mr-3">
					<button id="findData" class="btn btn-warning btn-sm" title="Tìm kiếm" data-toggle="modal">
						<i class="ti-search"></i>
						Nạp dữ liệu
					</button>

				</div>
			</div>
			<!-- Filter name -->
			<div class="ibox-body pt-0 pb-0 bg-f9 border-e">
				<div class="row ibox mb-0 border-e pb-1 pt-1">
					<div class="col-xl-5 col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3">
						<!-- input số lệnh -->
						<div class="row form-group">
							<div class="col-xl-3 col-form-label">
								<label>Tìm kiếm</label>
							</div>
							<div class="col-xl-6 input-group-sm">
								<div class="input-group">
									<input id="BookingNo" placeholder="Số lệnh, số PIN, số Bill, số Booking" type="text" class="form-control form-control-sm input-required" />
								</div>
							</div>
						</div>
						<!-- input vessel -->
						<div class="row form-group">
							<div class="col-xl-3 col-form-label">
								<label>Tàu/chuyến</label>
							</div>

							<div class="col-xl-6 input-group-sm">
								<div class="input-group">
									<input id="VoyageKey" class="form-control form-control-sm" type="text" hidden="" />
									<input id="VesselName" placeholder="Tên tàu/Chuyến nhập/Chuyến xuất" type="text" class="form-control form-control-sm input-required" />
								</div>
							</div>
							<div class="col-xl-3">
								<button style="width: 25px;height: 25px;" id="chooseVessel" class="btn btn-success btn-circle btn-icon-only btn-sm btn-style" title="Chọn tàu">
									<i class="ti-plus"></i>
								</button>
								<button style="width: 25px;height: 25px;" id="nochooseVessel" class="btn btn-danger btn-circle btn-icon-only btn-sm btn-style" title="Bỏ chọn">
									<i class="ti-close"></i>
								</button>
							</div>
						</div>

						<!-- input billOfLading -->
						<div class="row form-group">
							<div class="col-xl-3 col-form-label">
								<label>Ngày tạo lệnh</label>
							</div>
							<div class="col-xl-9 input-group-sm">
								<div class="input-group">
									<input class="form-control form-control-sm" id="getIn" type="text" autocomplete="off" placeholder="" value="" />
									<span class="ml-3 mr-3 mt-2">∼</span>
									<input class="form-control form-control-sm" id="getOut" type="text" autocomplete="off" placeholder="" value="" />
								</div>
							</div>
						</div>
					</div>

					<!-- phần trái -->
					<div class="col-xl-7 col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3">
						<div class="row ">
							<!-- Phần buttonradio -->
							<div class="col-xl-5 col-lg-6 col-md-12 col-sm-12 col-xs-12">
								<div class="row form-group">
									<label class="col-sm-5 col-form-label">Tác nghiệp</label>
									<div class="col-sm-7 col-form-label">
										<label style="margin-left: -20px" class=" radio radio-info">
											<input type="radio" name="typeof" class="css-checkbox" value="hh" checked />
											<span class="input-span"></span>NÂNG HẠ
										</label>
									</div>
								</div>

								<div class="row form-group">
									<span class="col-sm-5"></span>
									<div class="col-sm-7 col-form-label">
										<label style="margin-left: -20px" class=" radio radio-info">
											<input type="radio" name="typeof" class="css-checkbox" value="dv" />
											<span class="input-span"></span>DỊCH VỤ
										</label>
									</div>
								</div>

							</div>

							<!-- Phần checkbox -->
							<div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12 typeof_hh">
								<div class="row form-group">
									<div class="col-sm-12 col-form-label">
										<label class="checkbox checkbox-blue">
											<input id="checkbox_hh" type="checkbox" value="HBAI">
											<span class="input-span"></span>
											Hạ hàng
										</label>
									</div>
								</div>
								<div class="row form-group">
									<div class="col-sm-12 col-form-label">
										<label class="checkbox checkbox-blue">
											<input id="checkbox_lh" type="checkbox" value="LAYN">
											<span class="input-span"></span>
											Lấy hàng
										</label>
									</div>
								</div>
							</div>
							<div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12 typeof_hh">
								<div class="row form-group">
									<div class="col-sm-12 col-form-label">
										<label class="checkbox checkbox-blue">
											<input id="checkbox_xgt" type="checkbox" value="XGTH">
											<span class="input-span"></span>
											Xuất giao thẳng
										</label>
									</div>
								</div>
								<div class="row form-group">
									<div class="col-sm-12 col-form-label">
										<label class="checkbox checkbox-blue">
											<input id="checkbox_ngt" type="checkbox" value="NGTH">
											<span class="input-span"></span>
											Nhập giao thẳng
										</label>
									</div>
								</div>
							</div>
							<div class="col-xl-4 col-lg-3 col-md-6 col-sm-12 col-xs-12 hiden-input typeof_dv">
								<div class="row form-group">
									<div class="col-sm-12 col-form-label">
										<label class="checkbox checkbox-blue">
											<input type="checkbox" name="cjmode" id="OTHER" value="0" checked>
											<span class="input-span"></span>
											Dịch vụ thông thường
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Phần table -->
			<div class="row ibox-footer border-top-0">
				<div class="col-md-12 col-sm-12 col-xs-12 table-responsive" id="TableMain">
					<table id="MainScreemTable" class="table table-striped display nowrap" cellspacing="0" style="min-width: 100%">
						<thead></thead>
						<tbody></tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- Modal chọn tàu -->
<div class="modal fade" id="vessel-modal" tabindex="-1" role="dialog" aria-labelledby="groups-modalLabel-1" aria-hidden="true" data-whatever="id" style="padding-left: 2%; padding-top: 2%">
	<div class="modal-dialog" role="document" style="min-width: 1024px !important">
		<div class="modal-content" style="border-radius: 4px">
			<div class="modal-header">
				<h5 class="modal-title text-primary" id="groups-modalLabel-1">
					Danh mục tàu
				</h5>
				<button id="VesselSearch" class="btn btn-outline-warning btn-sm btn-loading mr-1" data-loading-text="<i class='la la-spinner spinner'></i>Nạp dữ liệu" title="Nạp dữ liệu">
					<span class="btn-icon"><i class="ti-search"></i>Nạp dữ liệu</span>
				</button>
			</div>
			<div class="modal-body" style="padding: 0px 15px 15px 15px">
				<div class="row mb-0 border-e border-top-0 pb-1 pt-3">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<div class="row">
							<div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
								<div class="row form-group">
									<label class="col-md-2 col-sm-4 col-xs-4 col-form-label">Tàu</label>
									<input id="VesselNameFilter" class="col-md-8 col-sm-10 col-xs-10 form-control form-control-sm" placeholder="Tên tàu" type="text" />
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
								<div class="row form-group">
									<label class="col-md-2 col-sm-2 col-xs-2 col-form-label">Năm</label>
									<div class="col-md-8 col-sm-10 col-xs-10 input-group input-group-sm">
										<select id="YearFilter" data-width="100%" data-style="btn-default btn-sm" title="Năm" style="
                        width: 80%;
                        border-radius: 2px;
                        border-color: rgba(0, 0, 0, 0.1);
                      ">
											<% for (let i = 2016; i < 2026; i++){ %>
											<option value="<%= i %>"><%= i %></option>
											<% } %>
										</select>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
								<div class="row form-group">
									<label class="radio radio-success ml-5 mt-1">
										<input type="radio" checked name="VesselFilter" class="css-checkbox" value="1" />
										<span class="input-span"></span>Đến cảng
									</label>

									<label class="radio radio-success ml-3 mt-1 mr-3">
										<input type="radio" name="VesselFilter" class="css-checkbox" value="2" />
										<span class="input-span"></span>Rời cảng
									</label>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row ibox-footer border-top-0 mt-3">
					<div class="col-md-12 col-sm-12 col-xs-12 table-responsive">
						<table id="VesselTable" class="table table-striped display nowrap" cellspacing="0" style="width: 99.5%">
							<thead>
								<tr style="width: 100%">
									<th col-name="STT">STT</th>
									<th col-name="VoyageKey"></th>
									<th col-name="VesselID">Mã tàu</th>
									<th col-name="VesselName">Tên tàu</th>
									<th col-name="InboundVoyage">Chuyến nhập</th>
									<th col-name="OutboundVoyage">Chuyến xuất</th>
									<th col-name="ETA">ETA</th>
									<th col-name="ETD">ETD</th>
									<th col-name="Status">Status</th>
									<th col-name="InLane">Lane nhập</th>
									<th col-name="OutLane">Lane xuất</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<div style="margin: 0 auto !important">
					<button class="btn btn-sm btn-rounded btn-gradient-blue btn-labeled btn-labeled-left btn-icon" id="apply-vessel" data-dismiss="modal">
						<span class="btn-label"><i class="ti-check"></i></span>Xác nhận
					</button>
					<button class="btn btn-sm btn-rounded btn-gradient-peach btn-labeled btn-labeled-left btn-icon" data-dismiss="modal">
						<span class="btn-label"><i class="ti-close"></i></span>Đóng
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	$(document).ready(function() {
		$("#getIn").val(moment().startOf("day").format("YYYY-MM-DD HH:mm:ss"));
		$("#getOut").val(moment().endOf("day").format("YYYY-MM-DD HH:mm:ss"));
		$("#getIn, #getOut").datetimepicker({
			controlType: "select",
			oneLine: true,
			dateFormat: "yy-mm-dd",
			timeFormat: "HH:mm:ss",
			onSelect: function(dateText) {
				$(this).val(moment(dateText).format("YYYY-MM-DD HH:mm:ss"));
			},
		});
		$("input[name='typeof']").on("change", function(e) {
			$(".typeof_hh, .typeof_xgt, .typeof_dv").addClass("hiden-input");
			var tp = $(e.target).val();
			$(".typeof_" + $("input[name='typeof']:checked").val()).removeClass("hiden-input");
		});
		var _columns = [{
				data: "",
				name: "STT",
				title: "STT",
				className: "text-center editor-cancel ",
				targets: 0,
				render: function(data, type, row, meta) {
					return meta.row + 1;
				},
			},
			{
				data: "",
				name: "Hoàn tất",
				title: "Hoàn tất",
				className: "text-center editor-cancel ",
				targets: 1,
			},
			{
				data: "JobModeID",
				name: "Tác nghiệp",
				title: "Tác nghiệp",
				className: "text-center editor-cancel ",
				targets: 2,
			},
			{
				data: "EirNo",
				name: "Số lệnh",
				title: "Số lệnh",
				className: "text-center editor-cancel ",
				targets: 3,
			},
			{
				data: "JobModeName",
				name: "Số Pin",
				title: "Phương án",
				className: "text-center editor-cancel ",
				targets: 4,

			},
			{
				data: "",
				name: "Ngày lệnh",
				title: "Ngày lệnh",
				className: "text-center editor-cancel ",
				targets: 5,
				render: function(data, type, row, meta) {
					return row.IssueDate ? moment(row.IssueDate).format("DD-MM-YYYY HH:mm:ss") : "";
				},
			},
			{
				data: "",
				name: "Hạn lệnh",
				title: "Hạn lệnh",
				className: "text-center autocomplete",
				targets: 6,
				render: function(data, type, row, meta) {
					return row.ExpDate ? moment(row.ExpDate).format("DD-MM-YYYY HH:mm:ss") : "";
				},
			},
			{
				data: "",
				name: "Hướng",
				title: "Hướng",
				className: "text-center",
				targets: 7,
				render: function(data, type, row) {
					return row.ClassID == 1 ? "Nhập" : "Xuất";
				},
			},
			{
				data: "MethodName",
				name: "PTGN",
				title: "PTGN",
				className: "text-center",
				targets: 8,
			},
			{
				data: "CommodityDescription",
				name: "Loại hàng",
				title: "Loại hàng",
				className: "text-center",
				targets: 9,
			},
			{
				data: "CargoWeight",
				name: "Trọng lượng",
				title: "Trọng lượng",
				className: "text-center ",
				targets: 10,
			},
			{
				data: "IsLocalForeign",
				name: "Nội/ngoại",
				title: "Nội/ngoại",
				className: "text-center",
				targets: 11,
			},
			{
				data: "",
				name: "Tàu/chuyến",
				title: "Tàu/chuyến",
				className: "text-center",
				targets: 12,
				render: function(data, type, row) {
					return `${row.VesselName?row.VesselName:""}/${row.InboundVoyage ? row.InboundVoyage : ""}/${row.OutboundVoyage ? row.OutboundVoyage : ""}`;
				},
			},
			{
				data: "BillOfLading",
				name: "Số vận đơn",
				title: "Số vận đơn",
				className: "text-center",
				targets: 13,
			},
			{
				data: "BookingNo",
				name: "Số booking",
				title: "Số booking",
				className: "text-center",
				targets: 14,
			},
			{
				data: "",
				name: "HTTT",
				title: "HTTT",
				className: "text-center",
				targets: 15,
				render: function(data, type, row) {
					return `${row.PaymentTypeID=="C"?"Thu ngay": row.PaymentTypeID=="M" ? "Thu sau":""}`;
				},
			},
			{
				data: "InvoiceNo",
				name: "Số hóa đơn",
				title: "Số hóa đơn",
				className: "text-center",
				targets: 16,
			},
			{
				data: "",
				name: "Ngày hóa đơn",
				title: "Ngày hóa đơn",
				className: "text-center",
				targets: 17,
				render: function(data, type, row, meta) {
					return row.InvoiceDate ? moment(row.InvoiceDate).format("DD-MM-YYYY HH:mm:ss") : "";
				},
			},
			{
				data: "DraftNo",
				name: "Số phiếu tính cước",
				title: "Số phiếu tính cước",
				className: "text-center",
				targets: 18,
			},
			{
				data: "TariffTempID",
				name: "Mã biểu cước",
				title: "Mã biểu cước",
				className: "text-center",
				targets: 19,
			},
			{
				data: "TRFCodeName",
				name: "Tên biểu cước",
				title: "Tên biểu cước",
				className: "text-center",
				targets: 20,
			},
			{
				data: "Amount",
				name: "Số tiền",
				title: "Số tiền",
				className: "text-center",
				targets: 21,
			},
			{
				data: "CusID",
				name: "Người thanh toán",
				title: "Người thanh toán",
				className: "text-center",
				targets: 22,
			},
			{
				data: "ShipperName",
				name: "Chủ hàng",
				title: "Chủ hàng",
				className: "text-center",
				targets: 23,
			},
			{
				data: "CreatedBy",
				name: "Người tạo",
				title: "Người tạo",
				className: "text-center",
				targets: 24,
			},
			{
				data: "CusID",
				name: "Số điện thoại/CMND người đại diện",
				title: "Số điện thoại/CMND người đại diện",
				className: "text-center",
				targets: 25,
			},
			{
				data: "Remark",
				name: "Ghi chú",
				title: "Ghi chú",
				className: "text-center",
				targets: 26,
			},
		];
		let TblMain = $("#MainScreemTable");
		var dataTbl = TblMain.newDataTable({
			scrollY: "55vh",
			columnDefs: _columns,
			order: [
				[0, "asc"]
			],
			paging: false,
			keys: true,
			autoFill: {
				focus: "focus",
			},
			select: {
				style: "single",
				info: false,
			},
			buttons: [],
			rowReorder: false,
		});
		TblMain.editableTableWidget();
		// Hiển thị modal chọn tàu
		$("#chooseVessel").on("click", function() {
			$("#vessel-modal").modal("show");
			$("#VesselSearch").trigger("click");
			sumNumRows = 0;
			$("#YearFilter").val(new Date().getFullYear());
		});
		//   Nút xóa dữ liệu thông tin tàu
		$("#nochooseVessel").on("click", function() {
			$("#VesselName").val("");
			$("#VoyageKey").val("");
		});
		// làm màng hình chọn tàu
		$(document).ready(function() {
			var _vesselColumns = [
					"STT",
					"VoyageKey",
					"VesselID",
					"VesselName",
					"InboundVoyage",
					"OutboundVoyage",
					"ETA",
					"ETD",
					"Status",
					"InLane",
					"OutLane",
				],
				tblVessel = $("#VesselTable"),
				vesselModal = $("#vessel-modal");
			/* Initial vessel table */
			tblVessel.newDataTable({
				scrollY: "30vh",
				columnDefs: [{
						type: "num",
						className: "text-center",
						targets: _vesselColumns.indexOf("STT"),
					},
					{
						className: "text-center",
						targets: _vesselColumns.getIndexs(["VesselName", "InboundVoyage", "OutboundVoyage", "ETA", "ETD", "InLane", "OutLane"]),
					},
					{
						className: "hiden-input",
						targets: _vesselColumns.getIndexs(["VoyageKey", "VesselID", "Status"]),
					},
				],
				order: [
					[_vesselColumns.indexOf("STT"), "asc"]
				],
				paging: false,
				keys: true,
				autoFill: {
					focus: "focus",
				},
				select: {
					style: "single",
					info: false,
				},
				buttons: [],
				rowReorder: false,
				arrayColumns: _vesselColumns,
			});

			$("#vessel-modal").on("shown.bs.modal", function(e) {
				$($.fn.dataTable.tables(true)).DataTable().columns.adjust();
			});
			$("#VesselSearch").on("click", function() {
				tblVessel.waitingLoad();
				var formData = {
					filter: {
						Status: {
							operation: 'in',
							value: $("input[type='radio'][name='VesselFilter']:checked").val() == 1 ? [0, 1] : [2, 3, 4, 5, 6]
						},
						VesselName: {
							operation: 'like',
							value: $('#VesselNameFilter').val()
						}
					}

				};
				$.ajax({
					url: "/Planning/YardPlanning/loadVesselVisit",
					dataType: "json",
					data: formData,
					type: "POST",
					success: function(data) {
						var rows = [];
						tblVessel.dataTable().fnClearTable();
						if (data.data.length > 0) {
							for (i = 0; i < data.data.length; i++) {
								var rData = data.data[i],
									r = [];
								$.each(_vesselColumns, function(idx, colname) {
									var val = "";
									switch (colname) {
										case "STT":
											val = i + 1;
											break;
										case "ETA":
										case "ETD":
											val = getDateTime(rData[colname]);
											break;
										default:
											val = rData[colname] ? rData[colname] : "";
											break;
									}
									r.push(val);
								});
								rows.push(r);
							}
						}
						tblVessel.dataTable().fnClearTable();
						if (rows.length > 0) {
							tblVessel.dataTable().fnAddData(rows);
						}
					},
					error: function(err) {
						tblVessel.dataTable().fnClearTable();
					},
				});
			});
			// điền dữ liệu vào trong các trường khi nhấn 2 lần vào bảng
			$(document).on("dblclick", "#VesselTable tbody tr", function() {
				var tblVesselSelectedRows = tblVessel
					.getSelectedRows()
					.data()
					.toArray()[0];
				let VoyageKey = tblVesselSelectedRows[_vesselColumns.indexOf("VoyageKey")]
				let VesselName = tblVesselSelectedRows[_vesselColumns.indexOf("VesselName")]
				let InboundVoyage = tblVesselSelectedRows[_vesselColumns.indexOf("InboundVoyage")]
				let OutboundVoyage = tblVesselSelectedRows[_vesselColumns.indexOf("OutboundVoyage")]
				let InLane = tblVesselSelectedRows[_vesselColumns.indexOf("InLane")]
				let OutLane = tblVesselSelectedRows[_vesselColumns.indexOf("OutLane")]
				let ETA = tblVesselSelectedRows[_vesselColumns.indexOf("ETA")]
				let ETD = tblVesselSelectedRows[_vesselColumns.indexOf("ETD")]
				$("#VoyageKey").val(VoyageKey);
				$("#VesselName").val(
					VesselName + " / " + InboundVoyage + " / " + OutboundVoyage
				);

				$("#search").trigger("click");
				vesselModal.modal("hide");
			});
			$(document).on("click", "#VesselTable tbody tr", function() {
				$('#VesselTable tbody tr.selected').removeClass('selected');
				$(this).addClass('selected');
			});
			//Nhấn xác nhận trong bảng chọn tàu sẽ điền dữ liệu vào các trường
			$("#apply-vessel").on("click", function() {
				var tblVesselSelectedRows = tblVessel
					.getSelectedRows()
					.data()
					.toArray()[0];
				let VoyageKey = tblVesselSelectedRows[_vesselColumns.indexOf("VoyageKey")]
				let VesselName = tblVesselSelectedRows[_vesselColumns.indexOf("VesselName")]
				let InboundVoyage = tblVesselSelectedRows[_vesselColumns.indexOf("InboundVoyage")]
				let OutboundVoyage = tblVesselSelectedRows[_vesselColumns.indexOf("OutboundVoyage")]
				let InLane = tblVesselSelectedRows[_vesselColumns.indexOf("InLane")]
				let OutLane = tblVesselSelectedRows[_vesselColumns.indexOf("OutLane")]
				let ETA = tblVesselSelectedRows[_vesselColumns.indexOf("ETA")]
				let ETD = tblVesselSelectedRows[_vesselColumns.indexOf("ETD")]
				$("#VoyageKey").val(VoyageKey);
				$("#VesselName").val(
					VesselName + " / " + InboundVoyage + " / " + OutboundVoyage
				);
			});
		});
		// Sự kiện nạp data
		$("#findData").on("click", function() {
			let arrcheckboxNH = []
			let check_hh = $("#checkbox_hh:checked").attr("value");
			let check_lh = $("#checkbox_lh:checked").attr("value");
			let check_xgt = $("#checkbox_xgt:checked").attr("value");
			let check_ngt = $("#checkbox_ngt:checked").attr("value");
			arrcheckboxNH.push(check_hh, check_lh, check_ngt, check_xgt)
			let arrcheckboxNHfilter = arrcheckboxNH.filter((item) => {
				return item !== undefined
			})
			let check_input = $("input[type='radio'][name='typeof']:checked").val()
			let dataSend = {}
			// dataSend khi truy vấn với lệnh hạ hàng
			if (check_input == "hh") {
				dataSend = {
					searchParam: $("#BookingNo").val(),
					VoyageKey: $("#VoyageKey").val(),
					startDate: $("#getIn").val(),
					endDate: $("#getOut").val(),
					classID: arrcheckboxNHfilter,
					index: 0
				}
			}
			// dataSend khi truy vấn với lệnh dịch vụ
			if (check_input == "dv") {
				dataSend = {
					searchParam: $("#BookingNo").val(),
					VoyageKey: $("#VoyageKey").val(),
					startDate: $("#getIn").val(),
					endDate: $("#getOut").val(),
					index: 1
				}
			}
			$.ajax({
				url: "/Order/eirStatic/getDataEirBulk",
				dataType: "json",
				type: "GET",
				data: dataSend,
				success: function(data) {
					$("#MainScreemTable").dataTable().fnClearTable();
					var rows = [];
					if (data?.result?.length > 0) {
						toastr['success']("Load dữ liệu thành công");
						data?.result?.forEach((item, index) => {
							rows.push({
								...item,
								CargoWeight: (item.CargoWeight).toFixed(3),
							});
						});
					}
					if (rows.length > 0) {
						$("#MainScreemTable").dataTable().fnAddData(rows);
					} else {
						$("#MainScreemTable").dataTable().fnClearTable();
						toastr['error']("Không có dữ liệu");
					}
				},
				error: function(error) {
					console.log(error);
				},
			});
		})
	})
</script>